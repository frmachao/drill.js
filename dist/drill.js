"use strict";var _slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();(function(a){"use strict";var b=document.head,c="pending",e="resolved",d="rejected",f="loaded",g={},h={},i={},j={paths:g,dirpaths:h,baseUrl:"",dataMap:i,tempM:{}},k=Array.prototype.slice,l=function(a){return k.call(a)},m=Object.prototype.toString,n=function(a){return m.call(a).toLowerCase().replace(/(\[object )|(])/g,"")},o=function(a,b){return a instanceof Array||(a=l(a)),a.some(function(a,c){return!1===b(a,c)}),a},p=function(a){var b=a.match(/(.+\/).+/);return b&&b[1]},q=function(a){var b=a.split(/\//g),c=[];return o(b,function(a){return".."==a&&c.length&&".."!=c.slice(-1)[0]?void c.pop():void c.push(a)}),c.join("/")},r=function(){var a=!1,b=[];return function(c){a||(a=!0,setTimeout(function(){for(var c=0;c<b.length;c++)b[c]();b=[],a=!1},0)),b.push(c)}}(),s=function(a){for(var b in a)return 0;return 1},t=function(a){return void 0===a},u=function(a){return new Promise(a)},w=function(a){var b=a.split(" ");return[b[0],b.slice(1)]},v=function(a,b){var c=b.slice();return c.unshift(a),c.join(" ")},x={loadScript:function loadScript(a){var c=w(a),d=_slicedToArray(c,1);a=d[0];var e=document.createElement("script"),f=B.cacheInfo,g=f.k,h=f.v;return g&&h&&(-1<a.search(/\?/)?a+="&"+g+"="+h:a+="?"+g+"="+h),e.type="text/javascript",e.async=!0,e.src=a,r(function(){b.appendChild(e)}),e},agent:function agent(a,b){return u(function(g,h){var k,l=w(a),m=_slicedToArray(l,2);a=m[0],k=m[1];var n=i[a];if(n)switch(n.state){case f:case c:n.c.push({res:g,pubData:b});break;case e:r(function(){n.get?n.get(function(a){g(a)},b):g()});break;case d:r(function(){h()});}else{i[a]=n={state:c,c:[{res:g,rej:h,pubData:b}]},a=v(a,k);var o=x.loadScript(a);o.onload=function(){n.state=f,x.setTemp(a),j.tempM={}},o.onerror=function(){for(;0 in n.c;)n.c.shift().rej("load script error => "+a);j.tempM={},n.state=d,delete n.c}}})},toProm:function toProm(a,b){var c,d=u(function(d,e){var f=[],g=a.length,h=function(){g--,g||(c=null,1==f.length?d(f[0]):d(f))};o(a,function(a,d){var g=x.getPath(a,b),i=x.agent(g,b);i.then(function(a){f[d]=a,c&&c(a,d),h()}).catch(function(a){e(a)})})});return d.pend=function(a){return c=a,d},d},setTemp:function setTemp(a){var b=w(a),c=_slicedToArray(b,1);a=c[0];var d=j.tempM,f=d.d,g=d.ids;g&&"string"==n(g)&&(g=[g]);var h=i[a],k=h.type=d.type||"file";g&&o(g,function(a){i[a]=h});var l=function(a){for(;0 in h.c;)h.c.shift().res(a);h.get=function(b){b(a)},h.state=e,delete h.c};switch(k){case"file":l();break;case"define":if(-1<n(f).search("function")){var u={},v={exports:u},y=f(function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return x.require(c,{rel:a})},u,v,{FILE:a});y instanceof Promise?y.then(function(a){t(a)&&"object"==n(v.exports)&&!s(v.exports)&&(a=v.exports),l(a)}):l(y)}else l(f);break;case"task":if(l=null,-1<n(f).search("function"))for(var p=h.get=function(b,c){var d=f(function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return x.require(c,{rel:a})},c.pdata,{FILE:a});d.then(function(a){b(a)})};0 in h.c;){var m=h.c.shift(),q=m.res,r=m.pubData;p(q,r)}else throw"task module type error";h.state=e,delete h.c;}},getPath:function getPath(a,b){var c,d=w(a),e=_slicedToArray(d,2);a=e[0],c=e[1];var f=b.rel;if(g[a])a=g[a];else{var k;for(var l in h)if(k=new RegExp("^"+l),k.test(a)){a=a.replace(k,h[l]);break}}if(!/^.+?\/\//.test(a)){/\?.+$/.test(a)||/.js$/.test(a)||(a+=".js");var i=a.match(/^\.\/(.+)/);i?a=p(f)+i[1]:-1==c.indexOf("-r")&&(a=j.baseUrl+a),a=q(a)}return a=v(a,c),a},require:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=x.toProm(a,b);return c.post=function(a){return b.pdata=a,c},c},define:function define(a,b){j.tempM={type:"define",d:a,ids:b}},task:function task(a,b){j.tempM={type:"task",d:a,ids:b}}},y=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return x.require(b)},z=function(a,b){x.define(a,b)},A=function(a,b){x.task(a,b)},B={config:function config(a){for(var b in j.baseUrl=a.baseUrl||j.baseUrl,a.paths)/\/$/.test(b)?h[b]=a.paths[b]:g[b]=a.paths[b]},remove:function remove(a){var b=x.getPath(a,{}),c=i[b];if(c)return delete i[b],!0},extend:function extend(a){a(j,x)},require:y,define:z,task:A,cacheInfo:{k:"srcache"}};if(a.require||(a.require=y),a.define||(a.define=z),a.task||(a.task=A),a.drill)if(n(a.drill))a.drill(B);else throw"async drill.js type error";a.drill=B,window.baseResources=j})(window);

//# sourceMappingURL=drill.js.map