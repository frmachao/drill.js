"use strict";var _slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();(function(a){"use strict";var b=document,c=b.head,d="pending",e="resolved",f="rejected",g="loaded",h={},j={},i={},k={paths:h,dirpaths:j,baseUrl:"",dataMap:i,tempM:{}},l=Array.prototype.slice,m=function(a){return l.call(a)},n=Object.prototype.toString,o=function(a){return n.call(a).toLowerCase().replace(/(\[object )|(])/g,"")},q=function(a,b){return a instanceof Array||(a=m(a)),a.some(function(a,c){return!1===b(a,c)}),a},p=function(a){var b=a.match(/(.+\/).+/);return b&&b[1]},r=function(a){var b=a.split(/\//g),c=[];return q(b,function(a){return".."==a&&c.length&&".."!=c.slice(-1)[0]?void c.pop():void c.push(a)}),c.join("/")},s=function(){var a=!1,b=[];return function(c){a||(a=!0,setTimeout(function(){for(var c=0;c<b.length;c++)b[c]();b=[],a=!1},0)),b.push(c)}}(),t=function(a){for(var b in a)return 0;return 1},u=function(a){return void 0===a},v=function(a){return new Promise(a)},w=function(a){var b=a.split(" ");return[b[0],b.slice(1)]},x=function(a,b){var c=b.slice();return c.unshift(a),c.join(" ")},y={loadScript:function loadScript(a){var d=w(a),e=_slicedToArray(d,1);a=e[0];var f=b.createElement("script"),g=C.cacheInfo,h=g.k,i=g.v;return a&&h&&i&&(-1<a.search(/\?/)?a+="&"+h+"="+i:a+="?"+h+"="+i),f.type="text/javascript",f.async=!0,a&&(f.src=a),s(function(){c.appendChild(f)}),f},agent:function agent(a,b){return v(function(c,h){var j,l=w(a),m=_slicedToArray(l,2);a=m[0],j=m[1];var n=i[a];if(n)switch(n.state){case g:case d:n.c.push({res:c,pubData:b});break;case e:s(function(){n.get?n.get(function(a){c(a)},b):c()});break;case f:s(function(){h()});}else{i[a]=n={state:d,c:[{res:c,rej:h,pubData:b}]},a=x(a,j);var o=y.loadScript(a);o.onload=function(){n.state=g,y.setTemp(a),k.tempM={}},o.onerror=function(){for(;0 in n.c;)n.c.shift().rej("load script error => "+a);k.tempM={},n.state=f,delete n.c}}})},toProm:function toProm(a,b){var c,d=v(function(d,e){var f=[],g=a.length,h=function(){g--,g||(c=null,1==f.length?d(f[0]):d(f))};q(a,function(a,d){var g=y.getPath(a,b),i=y.agent(g,b);i.then(function(a){f[d]=a,c&&c(a,d),h()}).catch(function(a){e(a)})})});return d.pend=function(a){return c=a,d},d},setTemp:function setTemp(a){var b=w(a),c=_slicedToArray(b,1);a=c[0];var d=k.tempM,f=d.d,g=d.ids;g&&"string"==o(g)&&(g=[g]);var h=i[a],j=h.type=d.type||"file";g&&q(g,function(a){i[a]=h});var l=function(a){for(;0 in h.c;)h.c.shift().res(a);h.get=function(b){b(a)},h.state=e,delete h.c};switch(j){case"file":l();break;case"define":if(-1<o(f).search("function")){var s={},v={exports:s},x=f(function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return y.require(c,{rel:a})},s,v,{FILE:a});x instanceof Promise?x.then(function(a){u(a)&&"object"==o(v.exports)&&!t(v.exports)&&(a=v.exports),l(a)}):l(x)}else l(f);break;case"task":if(l=null,-1<o(f).search("function"))for(var p=h.get=function(b,c){var d=f(function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return y.require(c,{rel:a})},c.pdata,{FILE:a});d.then(function(a){b(a)})};0 in h.c;){var m=h.c.shift(),n=m.res,r=m.pubData;p(n,r)}else throw"task module type error";h.state=e,delete h.c;}},getPath:function getPath(a,b){var c,d=w(a),e=_slicedToArray(d,2);a=e[0],c=e[1];var f=b.rel;if(h[a])a=h[a];else{var g;for(var l in j)if(g=new RegExp("^"+l),g.test(a)){a=a.replace(g,j[l]);break}}if(!/^.+?\/\//.test(a)){/\?.+$/.test(a)||/.js$/.test(a)||(a+=".js");var i=a.match(/^\.\/(.+)/);i?a=p(f)+i[1]:-1==c.indexOf("-r")&&(a=k.baseUrl+a),a=r(a)}return a=x(a,c),a},require:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=y.toProm(a,b);return c.post=function(a){return b.pdata=a,c},c},define:function define(a,b){k.tempM={type:"define",d:a,ids:b}},task:function task(a,b){k.tempM={type:"task",d:a,ids:b}}},z=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return y.require(b)},A=function(a,b){y.define(a,b)},B=function(a,b){y.task(a,b)},C={config:function config(a){for(var b in k.baseUrl=a.baseUrl||k.baseUrl,a.paths)/\/$/.test(b)?j[b]=a.paths[b]:h[b]=a.paths[b]},remove:function remove(a){var b=y.getPath(a,{}),c=i[b];if(c)return delete i[b],!0},extend:function extend(a){a(k,y)},require:z,define:A,task:B,cacheInfo:{k:"srcache"}},D=b.currentScript;if(D||(D=b.querySelector(["drill-cache"])),D){var E=D.getAttribute("drill-cache");E&&(C.cacheInfo.v=E)}if(a.require||(a.require=z),a.define||(a.define=A),a.task||(a.task=B),a.drill)if(o(a.drill))a.drill(C);else throw"async drill.js type error";a.drill=C,window.baseResources=k})(window);

//# sourceMappingURL=drill.js.map